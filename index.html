<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>401 Group — Entra Licensing Detailed Summary</title>
  <meta name="description" content="401 Auto Group — Microsoft 365 & Entra ID licensing: detailed breakdown, visuals, and vendor comparison" />
  <style>
    :root{
      --bg:#0b0b0c; --paper:#101214; --ink:#f6f7fb; --muted:#b9bdc7;
      --red:#ef233c; --red-2:#c2172a; --line:#1b1e23; --chip:#14171c;
      --ok:#12b886; --warn:#ffd43b; --blue:#a0b4ff; --grey:#7c8a99;
      --radius:16px; --shadow:0 18px 60px rgba(0,0,0,.35);
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0; background:radial-gradient(1200px 800px at 80% -100px, #1a1d23 0%, #0b0b0c 60%), var(--bg);
      color:var(--ink); font:15px/1.6 'Inter', system-ui, -apple-system, 'Segoe UI', Roboto, Arial, sans-serif;
      -webkit-font-smoothing:antialiased; -moz-osx-smoothing:grayscale;
    }

    header{padding:22px 18px 0}
    .brand{display:flex; align-items:center; gap:12px; width:max-content; padding:10px 14px; border:1px solid var(--line); border-radius:14px; background:linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,.02)); box-shadow:var(--shadow)}
    .brand-logo{width:34px;height:34px;border-radius:8px;background: conic-gradient(from 180deg, var(--red), var(--red-2)); display:grid;place-items:center;color:#fff;font-weight:800}
    .brand h1{margin:0;font-size:16px;letter-spacing:.3px}
    .brand small{color:var(--muted)}

    main{padding:18px; display:grid; gap:16px; max-width:1200px; margin:0 auto}

    .panel{background:linear-gradient(180deg, rgba(255,255,255,.03), rgba(255,255,255,.02)); border:1px solid var(--line); border-radius:var(--radius); padding:18px; box-shadow:var(--shadow)}
    .panel h2{margin:0 0 8px 0; font-size:18px}
    .panel p{margin:6px 0 0 0; color:var(--muted)}

    .grid-3{display:grid; grid-template-columns:repeat(3,1fr); gap:12px}
    @media (max-width:920px){.grid-3{grid-template-columns:1fr}}
    .kpi{padding:16px;border:1px solid var(--line);border-radius:14px;background:var(--paper)}
    .kpi .v{font-size:28px; font-weight:800}
    .kpi .l{color:var(--muted)}
    .kpi .chip{display:inline-flex;align-items:center;gap:6px;padding:2px 8px;border-radius:999px;background:var(--chip);border:1px solid var(--line);font-size:12px;color:var(--muted)}

    table{width:100%; border-collapse:collapse; font-size:14px}
    th, td{padding:10px 8px; border-bottom:1px solid var(--line)}
    th{text-align:left; color:#cfd3db; font-weight:700; cursor:pointer; user-select:none}
    tbody tr:hover{background:rgba(255,255,255,.02)}
    .num{text-align:right}
    .tag{display:inline-block; padding:2px 8px; border-radius:999px; font-size:12px; border:1px solid var(--line); background:var(--chip); color:#d7dae2}
    .tag.p1{color:#eaeef7; background:linear-gradient(180deg, rgba(18,184,134,.20), rgba(18,184,134,.08))}
    .tag.p2{color:#fff; background:linear-gradient(180deg, rgba(239,35,60,.35), rgba(239,35,60,.1))}
    .note{color:var(--muted); font-size:12px}

    .bars{display:grid; gap:10px}
    .bar{display:grid; grid-template-columns:160px 1fr 100px; gap:10px; align-items:center}
    .bar-label{color:#dfe3ea; font-weight:700}
    .bar-rail{height:12px; border-radius:999px; background:#14171c; border:1px solid var(--line); overflow:hidden}
    .bar-fill{height:100%; background:linear-gradient(90deg, var(--red), #ff3b4f)}
    .bar-val{text-align:right; color:#cfd3db}

    .controls{display:flex; flex-wrap:wrap; gap:8px; align-items:center}
    .search{flex:1; min-width:240px}
    input[type="search"]{width:100%; padding:10px 12px; border-radius:12px; border:1px solid var(--line); background:#0e1013; color:var(--ink)}
    .mini{font-size:12px;color:var(--muted)}
    .foot{color:var(--muted); font-size:12px}

    a.btn{display:inline-flex;align-items:center;gap:8px;padding:8px 12px;border-radius:10px;text-decoration:none; background:#13161b;border:1px solid var(--line);color:#e7eaf2}
    a.btn:hover{border-color:#2a2f37}
    .legend{display:flex; gap:10px; flex-wrap:wrap}
    .dot{width:10px;height:10px;border-radius:50%}
    .f3{background:#7c8a99} .bp{background:#a0b4ff} .e3{background:#ef233c} .e5{background:#ffd43b}
    .nowrap{white-space:nowrap}

    .stack{height:16px; border-radius:999px; overflow:hidden; display:flex; border:1px solid var(--line)}
    .seg{height:100%}
    .seg.f3{background:#7c8a99}
    .seg.bp{background:#a0b4ff}
    .seg.e3{background:#ef233c}
    .seg.e5{background:#ffd43b}

    .callout{display:grid; gap:6px; padding:12px; border:1px solid var(--line); border-radius:12px; background:rgba(255,255,255,.03)}

    .pdfwrap{border:1px solid var(--line); border-radius:12px; overflow:hidden; background:var(--paper); box-shadow:var(--shadow)}
    .pdfwrap iframe, .pdfwrap object{width:100%; height:900px; display:block; background:#0e1013}

    .doc{display:grid; gap:10px}
    .doc details{border:1px solid var(--line); border-radius:12px; background:linear-gradient(180deg, rgba(255,255,255,.03), rgba(255,255,255,.02)); padding:10px}
    .doc summary{cursor:pointer; font-weight:700; color:#e7eaf2}
    .doc .pre{white-space:pre-wrap; font-family:'Inter', system-ui, -apple-system, 'Segoe UI', Roboto, Arial, sans-serif; font-size:14px; line-height:1.65; color:#dfe3ea; margin:6px 0 0}
    .doc .hint{color:var(--muted); font-size:12px; margin-top:6px}
    .acc{gap:12px}
    .acc details{position:relative; border:1px solid var(--line); border-radius:16px; background:linear-gradient(180deg, rgba(255,255,255,.035), rgba(255,255,255,.02)); overflow:hidden; transition:border-color .2s, box-shadow .2s, transform .2s}
    .acc details:hover{border-color:#2a2f37; box-shadow:0 10px 30px rgba(0,0,0,.25)}
    .acc details::before{content:""; position:absolute; left:0; top:0; bottom:0; width:4px; background:linear-gradient(180deg, var(--red), var(--red-2)); opacity:.75}
    .acc summary{list-style:none; display:flex; align-items:center; gap:12px; padding:14px 16px; cursor:pointer; font-weight:700; color:#e7eaf2}
    .acc summary::-webkit-details-marker{display:none}
    .acc summary::after{content:'›'; margin-left:auto; font-size:18px; opacity:.85; transition:transform .25s ease}
    .acc details[open] summary::after{transform:rotate(90deg)}
    .acc .pre{padding:12px 16px 16px; border-top:1px solid var(--line)}

    .doc-controls{display:flex; gap:8px; flex-wrap:wrap; align-items:center; margin:10px 0 12px}
    .doc-controls .stretch{flex:1; min-width:260px}
    .doc-controls input[type="search"]{width:100%; padding:10px 12px; border-radius:12px; border:1px solid var(--line); background:#0e1013; color:#dfe3ea}
    .pill{display:inline-flex; align-items:center; gap:8px; padding:8px 10px; border-radius:10px; text-decoration:none; background:#13161b; border:1px solid var(--line); color:#e7eaf2}
    .pill:hover{border-color:#2a2f37}
    .toc-chips{display:flex; gap:8px; flex-wrap:wrap; margin:0 0 8px}
    .toc-chips a{border:1px solid var(--line); background:linear-gradient(180deg, rgba(255,255,255,.03), rgba(255,255,255,.01)); padding:6px 10px; border-radius:999px; color:#dfe3ea; text-decoration:none; font-size:12px}
    .toc-chips a.active{outline:1px solid var(--red-2); box-shadow:0 0 0 3px rgba(239,35,60,.18)}
    .copy-btn{margin-left:8px; font-size:12px; padding:4px 8px; border-radius:8px; border:1px solid var(--line); background:#121418; color:#dfe3ea}
    .copy-btn:hover{border-color:#2a2f37}

    .doc table{width:100%; border-collapse:collapse; font-size:14px; background:rgba(255,255,255,.01)}
    .doc th, .doc td{padding:10px 8px; border-bottom:1px solid var(--line); vertical-align:top}

    /* NEW: lanyard panel height + mount */
    .lanyard-wrap{height:70vh; border-radius:12px; overflow:hidden; border:1px solid var(--line); background: #0e1013;}
    #root{width:100%; height:100%}
  </style>

  <link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">

  <style>
    .doc td.center, .doc th.center{ text-align:center }
    .doc td.nowrap{ white-space:nowrap }
  </style>

  <style>
    .home-btn{
      position:fixed; left:16px; bottom:16px; z-index:9999;
      display:inline-flex; align-items:center; gap:8px;
      padding:10px 14px;
      color:#fff; text-decoration:none; font-weight:700; letter-spacing:.2px;
      background:linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.05));
      border:1px solid rgba(255,255,255,.18);
      border-radius:14px;
      backdrop-filter:blur(10px);
      box-shadow:0 10px 30px rgba(0,0,0,.35);
      transition:transform .06s ease, box-shadow .2s ease, border-color .2s ease;
    }
    .home-btn:hover{ border-color: rgba(239,35,60,.45); box-shadow:0 12px 36px rgba(239,35,60,.25); transform:translateY(-1px) }
    .home-btn:focus-visible{ outline:2px solid #ef233c; outline-offset:3px }
    .home-btn.top-right{ left:auto; right:16px; bottom:auto; top:16px }

    .home-icon{
      width:18px; height:18px; display:block;
      stroke:currentColor; fill:none; stroke-width:2;
      stroke-linecap:round; stroke-linejoin:round;
    }
    @media (max-width:640px){ .home-btn{ padding:8px 12px } .home-icon{ width:16px; height:16px } }
  </style>
  <script type="module" crossorigin src="https://sirish-chekutty.github.io/Sirish-portfolio/assets/index-BWA6NwaO.js"></script>
  <link rel="stylesheet" crossorigin href="https://sirish-chekutty.github.io/Sirish-portfolio/assets/index-Dtn62Xmo.css">
</head>
<body>
  <header>
    <div class="brand" title="The 401 Group of Companies">
      <div class="brand-logo">401</div>
      <div>
        <h1>Entra / M365 licensing — detailed view</h1>
        <small>Microsoft 365 + Entra ID — internal planning</small>
      </div>
    </div>
  </header>

  <main>
    <!-- NEW: Interactive Lanyard (React mounts here) -->
    <section class="panel">
      <h2>Interactive Lanyard</h2>
      <p class="note">Drag the card to play with the physics.</p>
      <div class="lanyard-wrap">
        <div id="root"></div>
      </div>
    </section>

    <!-- the rest of your original sections remain unchanged -->
    <!-- at-a-glance -->
    <section class="panel">
      <h2>at a glance</h2>
      <div class="grid-3" id="kpis"></div>
      <div class="callout">
      <p class="note">figures reflect the rough headcount model and license mix captured from BambooHR and mapped to Microsoft 365/Entra ID.</p>
    </section>

    <!-- license mix -->
    <section class="panel">
      <h2>license mix</h2>
      <div class="legend" style="margin-bottom:8px">
        <span class="tag">total users</span>
        <span class="tag p1">entra p1 features</span>
        <span class="tag p2">entra p2 features</span>
      </div>
      <div class="bars" id="mixBars"></div>
      <p class="note">p1 highlights: conditional access, dynamic groups, app proxy. p2 adds identity protection, risk-based CA, PIM, access reviews.</p>
    </section>

    <!-- costs -->
    <section class="panel">
      <h2>monthly cost by tier</h2>
      <div class="bars" id="costBars"></div>
      <p class="note">CAD list pricing per user/month used for projection.</p>
    </section>

    <!-- vendor comparison -->
    <section class="panel">
      <h2>vendor comparison</h2>
      <div class="grid-3">
        <div class="kpi">
          <div class="v" id="vendor800Monthly">$—</div>
          <div class="l">vendor quote (800 seats) — monthly</div>
          <div class="chip">E3 500 @ $43.15 · BP 300 @ $25.33</div>
        </div>
        <div class="kpi">
          <div class="v" id="scaledMonthly">$—</div>
          <div class="l">vendor model scaled to 1,068 seats — monthly</div>
          <div class="chip">E3 768 · BP 300</div>
        </div>
        <div class="kpi">
          <div class="v" id="deltaMonthly">$—</div>
          <div class="l">difference vs our internal model — monthly</div>
          <div class="chip">negative means our model is cheaper</div>
        </div>
      </div>
      <table aria-label="Vendor vs Internal comparison" style="margin-top:10px">
        <thead>
          <tr>
            <th>model</th>
            <th class="num">seats</th>
            <th class="num">monthly (CAD)</th>
            <th class="num">annual (CAD)</th>
            <th class="num">avg $/user/mo</th>
          </tr>
        </thead>
        <tbody id="cmpTbody"></tbody>
      </table>
      <p class="note">source lists an approximate savings figure; calculations here are derived directly from the counts and prices shown below.</p>
    </section>

    <!-- plan → entra tier mapping -->
    <section class="panel">
      <h2>plan → entra tier mapping</h2>
      <table aria-label="Plan to Entra ID tier">
        <thead>
          <tr>
            <th>plan / subscription</th>
            <th>entra id tier</th>
            <th>notes</th>
          </tr>
        </thead>
        <tbody>
          <tr><td>Office 365 E1</td><td><span class="tag">free</span></td><td class="note">basic MFA/SSPR; no conditional access</td></tr>
          <tr><td>Office 365 E3</td><td><span class="tag p1">p1</span></td><td class="note">conditional access, app proxy, dynamic groups</td></tr>
          <tr><td>Office 365 E5</td><td><span class="tag p2">p2</span></td><td class="note">identity protection, PIM, access reviews</td></tr>
          <tr><td>Microsoft 365 Business Basic / Standard</td><td><span class="tag">free</span></td><td class="note">no p1 features</td></tr>
          <tr><td>Microsoft 365 Business Premium</td><td><span class="tag p1">p1</span></td><td class="note">full CA + Intune</td></tr>
          <tr><td>Microsoft 365 E3</td><td><span class="tag p1">p1</span></td><td class="note">p1 plus Windows Ent & Intune</td></tr>
          <tr><td>Microsoft 365 E5</td><td><span class="tag p2">p2</span></td><td class="note">advanced security & compliance</td></tr>
          <tr><td>Microsoft 365 F3 (frontline)</td><td><span class="tag p1">p1 (limited)</span></td><td class="note">CA + MFA with frontline restrictions</td></tr>
        </tbody>
      </table>
    </section>

    <!-- department breakdown, pdf, transcription, etc. -->
    <!-- (unchanged content continues …) -->

    <section class="foot">
      projections are planning estimates; adjust mix as job roles change.
    </section>
  </main>

  <!-- your existing scripts remain untouched -->
  <script>
    /* (…your long JS block stays exactly as before…) */
  </script>

  <!-- Vite/React entry: keeps the lanyard rendering inside #root -->

  <a class="home-btn top-right" href="/index.html" aria-label="Back to home" title="Home">
    <svg class="home-icon" viewBox="0 0 24 24" aria-hidden="true">
      <path d="M3 10.5L12 3l9 7.5"></path>
      <path d="M5 11.5v8.5a1.5 1.5 0 0 0 1.5 1.5h11A1.5 1.5 0 0 0 19 20V11.5"></path>
      <path d="M10 21V14h4v7"></path>
    </svg>
    Home
  </a>
</body>
</html>
